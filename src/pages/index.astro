---
import ArrowCarousal from '~/components/functional/ArrowCarousal.jsx';
import CategoryList from '~/components/functional/CategoryList';
import Product from '~/components/functional/Product';
import TextCarousal from '~/components/functional/TextCarousal';
import Slider from '~/components/ui/Slider.astro';
import Layout from '~/layouts/PageLayout.astro';
import ApiService from '~/services/ApiService';

const metadata = {
  title: 'AMT',
  ignoreTitleTemplate: true,
};

const popularProduct = await ApiService.getPopularProducts();
const populars = popularProduct.list;

const categoryData = await ApiService.getCategories();
const categoryList = categoryData.list;

const brandData = await ApiService.getBrands();
const brands = brandData.list;

const history = [
  {
    id: 1,
    year: '2006',
    title: 'Invest in others founded',
    description:
      'Culpa architecto ducimus quasi incidunt suscipit voluptates eligendi cupiditate voluptatum facere dolores animi libero, error hic laborum sit. Debitis! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugit ipsum minima, culpa architecto ducimus quasi incidunt suscipit.',
  },
  {
    id: 2,
    year: '2007',
    title: 'Invest in others founded',
    description:
      'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugit ipsum minima, culpa architecto ducimus quasi incidunt suscipit.',
  },
  {
    id: 3,
    year: '2008',
    title: 'Invest in others founded',
    description: 'Eligendi cupiditate voluptatum facere dolores animi libero, error hic laborum sit. Debitis!',
  },
  {
    id: 4,
    year: '2009',
    title: 'Invest in others founded',
    description:
      'Fugit ipsum minima, culpa architecto ducimus quasi incidunt suscipit voluptates eligendi cupiditate voluptatum facere dolores animi libero, error hic laborum sit. Debitis!',
  },
  {
    id: 5,
    year: '2018',
    title: 'Invest in others founded',
    description:
      'Culpa architecto ducimus quasi incidunt suscipit voluptates eligendi cupiditate voluptatum facere dolores animi libero, error hic laborum sit. Debitis!',
  },
  {
    id: 6,
    year: '2019',
    title: 'Invest in others founded',
    description:
      'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugit ipsum minima, culpa architecto ducimus quasi incidunt suscipit.',
  },
  {
    id: 7,
    year: '2020',
    title: 'Invest in others founded',
    description: 'Eligendi cupiditate voluptatum facere dolores animi libero, error hic laborum sit. Debitis!',
  },
  {
    id: 8,
    year: '2021',
    title: 'Invest in others founded',
    description:
      'Fugit ipsum minima, culpa architecto ducimus quasi incidunt suscipit voluptates eligendi cupiditate voluptatum facere dolores animi libero, error hic laborum sit. Debitis!',
  },
  {
    id: 9,
    year: '2022',
    title: 'Invest in others founded',
    description: 'Eligendi cupiditate voluptatum facere dolores animi libero, error hic laborum sit. Debitis!',
  },
  {
    id: 10,
    year: '2023',
    title: 'Invest in others founded',
    description:
      'Fugit ipsum minima, culpa architecto ducimus quasi incidunt suscipit voluptates eligendi cupiditate voluptatum facere dolores animi libero, error hic laborum sit. Debitis!',
  },
  {
    id: 11,
    year: '2024',
    title: 'Invest in others founded',
    description:
      'Fugit ipsum minima, culpa architecto ducimus quasi incidunt suscipit voluptates eligendi cupiditate voluptatum facere dolores animi libero, error hic laborum sit. Debitis!',
  },
];
---

<Layout metadata={metadata}>
  <Slider />

  <div class="px-10 lg:px-16">
    <div class="w-full mt-10 relative" id="popular">
      <CategoryList categories={categoryList} client:only="react" />
    </div>

    <div class="w-full mt-10 relative">
      <div class="mx-auto mb-5">
        <h3 class="font-bold text-3xl text-black">Brands</h3>
      </div>
      <!-- <BrandList brands={brands} client:only="react" /> -->
      <ArrowCarousal brands={brands} client:only="react" />
    </div>

    <div class="w-full mt-10 py-5 relative" id="popular">
      <div class="mx-auto py-10">
        <div class="mx-auto mb-5">
          <h3 class="font-bold text-3xl text-black">
            Our Popular Products <a
              href="/products"
              class="text-sm font-semibold hover:text-blue-800 hover:underline pt-3 text-blue-600 cursor-pointer float-right"
              >Show More</a
            >
          </h3>
        </div>
        <div class="w-full grid lg:grid-cols-4 md:grid-cols-2 gap-6">
          {populars.length > 0 ? populars.map((product) => <Product product={product} />) : 'No Product!'}
        </div>
      </div>
    </div>
  </div>

  <div class="w-full md:flex mt-5 p-10 lg:px-16 relative justify-center about text-white" style="background: #00225D;">
    <div class="flex-1 h-full flex content-center pr-10">
      <div class="h-full py-10">
        <h1 class="font-bold my-3 text-3xl">About Us</h1>
        <p class="text-sm py-3">
          Aung Myittar Co.Ltd is a stationery writing tool manufacturing company. We established our companies in 1992
          by importing semi-finished products and doing assembly at Myanmar.
        </p>
      </div>
    </div>
    <div class="flex-1">
      <TextCarousal history={history} client:only="react" />
      <a href="/about" class="text-sm inline-block mt-8 font-bold float-right">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          class="w-4 h-4 inline"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path>
        </svg>

        More</a
      >
    </div>
  </div>

  <style>
    .banner-area {
      /* height: 800px; */
      background-color: #ededede6;
      position: relative;
      overflow: hidden;
    }
    #popular .parent-div:hover .img-hover {
      transform: scale(1.5) rotate(10deg);
    }
    .parent-div:hover .img-hover {
      transform: scale(1.3);
    }
    /* .img-hover {
                                        transform .2s;
                                    } */
    .parent-div {
      /* width: 320px; */
      /* height: 390px; */
      overflow: hidden;
      position: relative;
    }

    .logo-box {
      /*box-shadow: 1px 1px 5px 2px #ddd;*/
    }

    .newIcon {
      width: 50px !important;
      margin-top: -20px;
    }

    .about {
      /* background-image: url('/src/assets/images/about-bg.png');
      background-repeat: no-repeat;
      background-size: cover; */
    }
  </style>
</Layout>
